<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tabelline</title>
  </head>
  <body>
    <span>Operazione: </span><span id="m1"></span>

    <span>X </span><span id="m2"></span>

    <span>= </span><span id="r1"></span>

    <span>Risultato b: </span><span id="r2"></span>

    <span>Risultato c: </span><span id="r3"></span>

    <button id="go">vai</button>

    <script>
      // Costruttore di oggetto
      function Multiplication(
        multiplying,
        multiplier,
        result1,
        result2,
        result3
      ) {
        this.multiplying = multiplying; // moltiplicando: restituisce un mumero da 0 a 8 compresi
        this.multiplier = multiplier; // moltiplicatore: restituisce un mumero da 0 a 10 compresi

        this.result1 = result1; // risultato 1
        this.result2 = result2; // risultato 2
        this.result3 = result3; // risultato 3

        /*
        this.resultTrue = function () {
          let result = this.multiplying * this.multiplier;
          return result;
        };
        */
        // la sintassi di creazione metodo con una arrow function è alternativa alla sintassi commentata sopra

        this.resultTrue = () => this.multiplying * this.multiplier;
      }

      function numberGenerator() {
        // genera i numeri casuali fino a quando il prodotto di a*b è diverso sia da c che da d
        let multiplying = Math.floor(Math.random() * 9);
        let multiplier = Math.floor(Math.random() * 11);
        let risultatoVero = multiplying * multiplier;
        const listValue = [];

        function generaFalso() {
          candidatoFalso = Math.floor(Math.random() * 81);
          if (candidatoFalso != risultatoVero) {
            listValue.push(Math.floor(Math.random() * 81));
          }
        }

        do {
          // console.log(listValue.length);
          generaFalso();
          // console.log(listValue.length);
          console.log(listValue);
        } while (listValue.length < 2);

        listValue.push(risultatoVero);
        listValue.sort();

        console.log(listValue);

        console.log(multiplying + " x " + multiplier + " = " + risultatoVero);

        // istanza dell'oggetto Product
        let operazione = new Multiplication(
          multiplying, // moltiplicando: restituisce un mumero da 0 a 8 compresi
          multiplier, // moltiplicatore: restituisce un mumero da 0 a 80 compresi
          listValue[0],
          listValue[1],
          listValue[2]

          // Math.floor(Math.random() * 81), // risultatoFalso1: restituisce un mumero da 0 a 80 compresi
          // Math.floor(Math.random() * 81) // risultatoFalso2: restituisce un mumero da 0 a 80 compresi
        );

        const operatorOne = document.getElementById("m1");
        const operatorTwo = document.getElementById("m2");

        const risultatoUno = document.getElementById("r1");
        const risultatoDue = document.getElementById("r2");
        const risultatoTre = document.getElementById("r3");

        operatorOne.innerHTML = operazione.multiplying;
        operatorTwo.innerHTML = operazione.multiplier;

        risultatoUno.innerHTML = operazione.result1;
        risultatoDue.innerHTML = operazione.result2;
        risultatoTre.innerHTML = operazione.result3;
      }

      const el = document.querySelector("#go");
      el.addEventListener("click", numberGenerator);
    </script>
  </body>
</html>
